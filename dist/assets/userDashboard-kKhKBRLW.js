import{n as F,_ as L,u as N,c as U,s as B,a as E,b as V,g as z,d as W,e as q,L as Q,f as H,l as K,h as Z,m as J,i as Y}from"./absentComponent-B_i-i5fL.js";import{m as X,_ as y,r as j,o as h,c as p,a as e,n as v,d as c,g as d,k as _,t as r,i as $,v as x,F as T,f as S,e as k,p as w,b as C,l as G,q as ee,s as te,u as se}from"./index-CiiqZGSQ.js";import{a as g,A as m}from"./config-DsceXT9y.js";import{_ as R}from"./logo-BBSAZehn.js";import{_ as oe}from"./check-ov41iK4c.js";import ae from"./uploadChildPictureComponent-DR8F38AG.js";import"./TypewriterText-C0e_G0Pm.js";const ie={mixins:[F],data(){return{isMenuOpen:!1,searchQuery:"",searchResults:[],isNotificationDropdownOpen:!1,isProfileDropdownOpen:!1,profilePhotoURL:""}},computed:{...X(["theme","language"]),translatedTitles(){return{en:{dashboard:"Dashboard",goal:"Goal",report:"Report",weeklyGoal:"Weekly Goal",registration:"Registration",week:"Week",present:"Present",absent:"Absent",board:"Board",users:"Users",activities:"Activities",statistics:"Statistics",messages:"Messages",settings:"Settings",editPhoto:"Edit Photo",manageAccount:"Manage Account",setting:"Settings",logout:"Logout"},fr:{dashboard:"Accueil",goal:"Objectif",report:"Rapport",weeklyGoal:"Objectifs Heb",registration:"Inscription",week:"Semaine",present:"Presents",absent:"Absents",board:"Tableau",users:"Utilisateurs",activities:"Activites",statistics:"Statistique",messages:"Message",settings:"Paramètre",editPhoto:"Modifier Photo",manageAccount:"Gestion de compte",setting:"Parametre",logout:"Deconnexion"}}}},methods:{toggleMenu(){this.isMenuOpen=!this.isMenuOpen},toggleNotificationDropdown(){this.isNotificationDropdownOpen=!this.isNotificationDropdownOpen},toggleProfileDropdown(){this.isProfileDropdownOpen=!this.isProfileDropdownOpen},fetchProfilePicture(){const s={"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`};g.get(`${m}/admin/getprofil`,{headers:s}).then(n=>{this.profilePhotoURL=n.data.profilePhotoUrl,console.log("profilePicture",this.profilePhotoURL)}).catch(n=>{console.error("Error fetching profile picture:",n)})},search(){this.searchResults=[],this.searchQuery.length!==0&&g.get(`${m}/search?q=`+this.searchQuery).then(t=>{this.searchResults=t.data}).catch(t=>{console.error("Error fetching search results:",t)})},displayResult(t){console.log("Selected result info:",t)},async logout(){try{await g.post(`${m}/user/logout`,{},{withCredentials:!0}),localStorage.removeItem("authToken"),sessionStorage.removeItem("authToken"),this.$router.push("/login")}catch(t){console.error("Error during logout:",t)}},confirmLogout(){confirm("Are you sure you want to log out?")&&this.logout()},handleClickOutside(t){const s=this.$refs.notificationWrapper,n=this.$refs.profileIcon,l=s&&!s.contains(t.target),a=n&&!n.contains(t.target);l&&this.isNotificationDropdownOpen&&(this.isNotificationDropdownOpen=!1),a&&this.isProfileDropdownOpen&&(this.isProfileDropdownOpen=!1)},getTranslatedTitle(t){return this.translatedTitles[this.language][t]},shouldReceiveNotification(t){return t.role=="Coordinateur"}},mounted(){this.fetchProfilePicture(),document.addEventListener("click",this.handleClickOutside)},beforeMount(){document.removeEventListener("click",this.handleClickOutside)}},A=t=>(w("data-v-83c2cd6f"),t=t(),C(),t),ne={class:"navigation"},re={class:"search"},le={key:0,class:"dropdown"},ce=["onClick"],de={key:1,class:"dropdown"},ue={class:"icons"},he=A(()=>e("img",{src:L,alt:"Notification",class:"notification-icon"},null,-1)),pe={key:0,class:"dropdown"},_e={key:0},fe=["src"],ve={key:1,class:"dropdown"},ge=A(()=>e("div",{class:"hamburger"},null,-1)),me=[ge],ye={class:"content"},be={class:"side-buttons"},ke={class:"nav"},$e={class:"nav"},we={class:"nav"},Ce={class:"nav"},De={class:"nav"},Te={class:"nav"},xe={class:"nav"};function Pe(t,s,n,l,a,i){const o=j("router-link");return h(),p(T,null,[e("nav",ne,[e("button",{class:"menu-btn",onClick:s[0]||(s[0]=(...u)=>i.toggleMenu&&i.toggleMenu(...u))},"More"),e("ul",{class:v({"show-menu":a.isMenuOpen})},[e("li",null,[c(o,{to:"/user/analytics",class:"nav-link","active-class":"active"},{default:d(()=>[_(r(i.getTranslatedTitle("dashboard")),1)]),_:1})]),e("li",null,[c(o,{to:"/user/suivi",class:"nav-link","active-class":"active"},{default:d(()=>[_(r(i.getTranslatedTitle("goal")),1)]),_:1})]),e("li",null,[c(o,{to:"/user/rapport",class:"nav-link","active-class":"active"},{default:d(()=>[_(r(i.getTranslatedTitle("report")),1)]),_:1})]),e("li",null,[c(o,{to:"/user/ActiviteHebdomadaire",class:"nav-link","active-class":"active"},{default:d(()=>[_(r(i.getTranslatedTitle("weeklyGoal")),1)]),_:1})]),e("li",null,[c(o,{to:"/user/inscription",class:"nav-link","active-class":"active"},{default:d(()=>[_(r(i.getTranslatedTitle("registration")),1)]),_:1})]),e("li",null,[c(o,{to:"/user/weekGoal",class:"nav-link","active-class":"active"},{default:d(()=>[_(r(i.getTranslatedTitle("week")),1)]),_:1})]),e("li",null,[c(o,{to:"/user/listOfchildren",class:"nav-link","active-class":"active"},{default:d(()=>[_(r(i.getTranslatedTitle("present")),1)]),_:1})]),e("li",null,[c(o,{to:"/user/Absent",class:"nav-link","active-class":"active"},{default:d(()=>[_(r(i.getTranslatedTitle("absent")),1)]),_:1})])],2),e("div",re,[$(e("input",{type:"text","onUpdate:modelValue":s[1]||(s[1]=u=>a.searchQuery=u),onInput:s[2]||(s[2]=(...u)=>i.search&&i.search(...u)),placeholder:"Search..."},null,544),[[x,a.searchQuery]]),a.searchResults.length>0?(h(),p("ul",le,[(h(!0),p(T,null,S(a.searchResults,(u,I)=>(h(),p("li",{key:I,onClick:Rs=>i.displayResult(u)},r(u),9,ce))),128))])):k("",!0),a.searchQuery.length>0&&a.searchResults.length===0?(h(),p("p",de,"No results found.")):k("",!0)]),e("div",ue,[e("div",{class:"notification-wrapper",onClick:s[3]||(s[3]=(...u)=>i.toggleNotificationDropdown&&i.toggleNotificationDropdown(...u))},[he,e("span",{class:v({"notification-count":!0,"few-notifications":t.notifications.length<=2})},r(t.notifications.length),3)]),a.isNotificationDropdownOpen?(h(),p("div",pe,[e("ul",null,[t.notifications.length===0?(h(),p("li",_e,"No notifications")):k("",!0),(h(!0),p(T,null,S(t.notifications,(u,I)=>(h(),p("li",{key:I},r(u.user)+","+r(u.entry),1))),128))])])):k("",!0),e("img",{src:a.profilePhotoURL,onClick:s[4]||(s[4]=(...u)=>i.toggleProfileDropdown&&i.toggleProfileDropdown(...u)),alt:"Profile Icon",class:"profile-icon"},null,8,fe),a.isProfileDropdownOpen?(h(),p("div",ve,[e("ul",null,[e("li",null,[c(o,{to:"/user/userInfo"},{default:d(()=>[_(r(i.getTranslatedTitle("editPhoto")),1)]),_:1})]),e("li",null,[c(o,{to:"/user/gererCount"},{default:d(()=>[_(r(i.getTranslatedTitle("manageAccount")),1)]),_:1})]),e("li",null,[c(o,{to:"/user/Parametre"},{default:d(()=>[_(r(i.getTranslatedTitle("setting")),1)]),_:1})])]),e("div",{onClick:s[5]||(s[5]=(...u)=>i.confirmLogout&&i.confirmLogout(...u))},r(i.getTranslatedTitle("logout")),1)])):k("",!0)])]),e("div",null,[e("div",{class:"menu-toggle",onClick:s[6]||(s[6]=(...u)=>i.toggleMenu&&i.toggleMenu(...u))},me),e("div",{class:v(["side-bar",{"hide-menu":t.isMobile&&!t.menuVisible}])},[e("div",ye,[e("div",be,[c(o,{to:"/user/userActivity","active-class":"active","exact-active-class":"exact-active",class:"default-link"},{default:d(()=>[e("div",ke,r(i.getTranslatedTitle("board")),1)]),_:1}),c(o,{to:"/user/Review","active-class":"active","exact-active-class":"exact-active",class:"default-link"},{default:d(()=>[e("div",$e,r(i.getTranslatedTitle("users")),1)]),_:1}),c(o,{to:"/user/dailyObject","active-class":"active","exact-active-class":"exact-active",class:"default-link"},{default:d(()=>[e("div",we,r(i.getTranslatedTitle("activities")),1)]),_:1}),c(o,{to:"/user/report","active-class":"active","exact-active-class":"exact-active",class:"default-link"},{default:d(()=>[e("div",Ce,r(i.getTranslatedTitle("report")),1)]),_:1}),c(o,{to:"/user/statistic","active-class":"active","exact-active-class":"exact-active",class:"default-link"},{default:d(()=>[e("div",De,r(i.getTranslatedTitle("statistics")),1)]),_:1}),c(o,{to:"/user/message","active-class":"active","exact-active-class":"exact-active",class:"default-link"},{default:d(()=>[e("div",Te,r(i.getTranslatedTitle("messages")),1)]),_:1}),c(o,{to:"/user/setting","active-class":"active","exact-active-class":"exact-active",class:"default-link"},{default:d(()=>[e("div",xe,r(i.getTranslatedTitle("settings")),1)]),_:1})])])],2)])],64)}const je=y(ie,[["render",Pe],["__scopeId","data-v-83c2cd6f"]]),Se={data(){return{isMobile:!1}},mounted(){this.isMobile=window.innerWidth<768,window.addEventListener("resize",this.handleResize)},beforeMount(){window.addEventListener("resize",this.handleResize)},methods:{handleResize(){this.isMobile=window.innerWidth<768},toggleMenu(){this.isMobile=!this.isMobile}}},D=t=>(w("data-v-c2eba80d"),t=t(),C(),t),Ie={class:"side-bar"},Me=D(()=>e("div",{class:"hamburger"},null,-1)),Oe=[Me],Ge=D(()=>e("div",{class:"logo"},[e("img",{class:"logo-rr",src:R,alt:"CDE koinonia"})],-1)),Re={class:"side-buttons"},Ae=D(()=>e("div",{class:"nav"}," Dashboard ",-1)),Fe=D(()=>e("div",{class:"nav"}," Review ",-1)),Le=D(()=>e("div",{class:"nav"}," feedback ",-1)),Ne=D(()=>e("div",{class:"nav"}," Message ",-1)),Ue=D(()=>e("div",{class:"nav"}," Statistique ",-1)),Be=D(()=>e("div",{class:"nav"}," Paramettre ",-1));function Ee(t,s,n,l,a,i){const o=j("router-link");return h(),p("div",Ie,[e("div",{class:"menu-toggle",onClick:s[0]||(s[0]=(...u)=>i.toggleMenu&&i.toggleMenu(...u))},Oe),e("div",{class:v(["content",{"hide-menu":a.isMobile}])},[Ge,e("div",Re,[c(o,{to:"/user/analytics","active-class":"active","exact-active-class":"exact-active",class:"default-link"},{default:d(()=>[Ae]),_:1}),c(o,{to:"/user/review","active-class":"active","exact-active-class":"exact-active",class:"default-link"},{default:d(()=>[Fe]),_:1}),c(o,{to:"/user/feedback","active-class":"active","exact-active-class":"exact-active",class:"default-link"},{default:d(()=>[Le]),_:1}),c(o,{to:"/user/Message","active-class":"active","exact-active-class":"exact-active",class:"default-link"},{default:d(()=>[Ne]),_:1}),c(o,{to:"/user/statistic","active-class":"active","exact-active-class":"exact-active",class:"default-link"},{default:d(()=>[Ue]),_:1}),c(o,{to:"/user/setting","active-class":"active","exact-active-class":"exact-active",class:"default-link"},{default:d(()=>[Be]),_:1})])],2)])}const Ve=y(Se,[["render",Ee],["__scopeId","data-v-c2eba80d"]]),ze={data(){return{arrivalTime:"",date:"",dailyGoal:"",dailyGoals:"",errorFetchingDate:!1,showPopup:!1,weeklyGoals:{},errorMessage:""}},mounted(){this.arrivalTime=this.getCurrentTime(),this.fetchDate()},methods:{getCurrentTime(){const t=new Date,s=String(t.getHours()).padStart(2,"0"),n=String(t.getMinutes()).padStart(2,"0");return`${s}:${n}`},fetchDate(){const t=new Date,s=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),l=String(t.getDate()).padStart(2,"0");this.date=`${s}-${n}-${l}`;const i={"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`};g.get(`${m}/week/getweekly`,{headers:i}).then(o=>{console.log("Weekly goals:",this.weeklyGoals),this.weeklyGoals=o.data,this.setDailyGoal()}).catch(o=>{console.error("Error fetching weekly goals:",o),this.errorFetchingDate=!0})},setDailyGoal(){const t=new Date().getDay(),s=this.weeklyGoals.data,n=Object.keys(s).filter(a=>["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].includes(a.toLowerCase()));console.log("Filtered day keys:",n);const l=n[t];console.log("Day key:",l),l?this.dailyGoals=s[l]:console.log("Day key not found for current day of week:",t)},submitForm(){if(!this.dailyGoal){this.errorMessage="Le champ 'Objectif de la journée' est requis.",this.shakeInput();return}const s={"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},n={arrivalTime:this.arrivalTime,date:this.date,dailyGoal:this.dailyGoal};g.post(`${m}/user/entre`,n,{headers:s}).then(l=>{console.log("Form submitted successfully:",l.data),this.arrivalTime="",this.date="",this.dailyGoal="",this.showPopup=!0,this.errorMessage="",setTimeout(()=>{this.showPopup=!1,this.$router.push("/user/analytics")},3e3),localStorage.setItem("dailyGoal",n.dailyGoal)}).catch(l=>{console.error("Error submitting form:",l)})},shakeInput(){const t=this.$refs.dailyGoalInput;t.classList.add("shake"),setTimeout(()=>t.classList.remove("shake"),500)}}},b=t=>(w("data-v-ab60b34c"),t=t(),C(),t),We={class:"page"},qe={class:"container"},Qe={class:"content"},He=b(()=>e("h2",null,"Remplir l'objectif de la journée",-1)),Ke=b(()=>e("hr",null,null,-1)),Ze={class:"goal"},Je={class:"input-group"},Ye=b(()=>e("label",{for:"arrivalTime"},"Temps d'arrivée au service:",-1)),Xe=b(()=>e("br",null,null,-1)),et={class:"input-group"},tt=b(()=>e("label",{for:"date"},"Date:",-1)),st=b(()=>e("br",null,null,-1)),ot={class:"input-group"},at=b(()=>e("label",{for:"dailyGoal"},"Objectif de la journée:",-1)),it=b(()=>e("br",null,null,-1)),nt={key:0,class:"error-message"},rt={key:0},lt={key:0,class:"popup"},ct=b(()=>e("h2",null,"Formulaire soumis avec succès !",-1)),dt=[ct];function ut(t,s,n,l,a,i){return h(),p("div",We,[e("div",qe,[e("div",Qe,[He,Ke,e("div",Ze,[e("p",null,r(a.dailyGoals),1)]),e("div",Je,[Ye,Xe,$(e("input",{type:"text",id:"arrivalTime","onUpdate:modelValue":s[0]||(s[0]=o=>a.arrivalTime=o),readonly:""},null,512),[[x,a.arrivalTime]])]),e("div",et,[tt,st,$(e("input",{type:"date",id:"date","onUpdate:modelValue":s[1]||(s[1]=o=>a.date=o),readonly:""},null,512),[[x,a.date]])]),e("div",ot,[at,it,$(e("textarea",{id:"dailyGoal","onUpdate:modelValue":s[2]||(s[2]=o=>a.dailyGoal=o),class:v({error:a.errorMessage}),rows:"4",ref:"dailyGoalInput"},`
          `,2),[[x,a.dailyGoal]]),a.errorMessage?(h(),p("p",nt,r(a.errorMessage),1)):k("",!0)]),e("button",{onClick:s[3]||(s[3]=(...o)=>i.submitForm&&i.submitForm(...o))},"Submit"),a.errorFetchingDate?(h(),p("h5",rt,"Erreur lors du chargement de la date. Veuillez vérifier votre connexion Internet.")):k("",!0)]),a.showPopup?(h(),p("div",lt,dt)):k("",!0)])])}const ht=y(ze,[["render",ut],["__scopeId","data-v-ab60b34c"]]),pt={data(){return{justification:"",choix:"",pourcentage:"",dailyGoal:"",errors:{justification:!1,choix:!1,pourcentage:!1}}},mounted(){this.dailyGoal=localStorage.getItem("dailyGoal")},methods:{openPopup(){this.$refs.popup.classList.add("open-popup")},closePopup(){this.$refs.popup.classList.remove("open-popup"),this.$router.push("/user/analytics")},submitForm(){if(this.errors.justification=!this.justification,this.errors.choix=!this.choix,this.errors.pourcentage=!this.pourcentage,this.errors.justification||this.errors.choix||this.errors.pourcentage){this.shakeInput();return}const t={justification:this.justification,choix:this.choix,pourcentage:this.pourcentage,dailyGoal:this.dailyGoal},n={"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`};g.post(`${m}/user/rapport`,t,{headers:n}).then(l=>{l.status===200&&(this.openPopup(),setTimeout(()=>{this.closePopup()},3e3))}).catch(l=>{console.error(l)})},shakeInput(){[this.$refs.justificationField,this.$refs.choixField,this.$refs.pourcentageField].forEach(s=>{s&&(Array.isArray(s)?s.forEach(n=>{n.classList.add("shake"),setTimeout(()=>n.classList.remove("shake"),500)}):(s.classList.add("shake"),setTimeout(()=>s.classList.remove("shake"),500)))})}}},f=t=>(w("data-v-df56e2de"),t=t(),C(),t),_t={class:"page"},ft={class:"container1"},vt={class:"content1"},gt=f(()=>e("h2",null,"Rapport journalier",-1)),mt=f(()=>e("br",null,null,-1)),yt={class:"goal"},bt=f(()=>e("h4",null,"Est-ce que l'objectif quotidien a été réalisé ?",-1)),kt={class:"check"},$t=f(()=>e("label",{for:"oui"},"Oui :",-1)),wt={class:"check"},Ct=f(()=>e("label",{for:"non"},"Non:",-1)),Dt=f(()=>e("label",{for:"pourcentage"},"Pourcentage de travail effectué:",-1)),Tt=f(()=>e("option",{value:""},"Sélectionner le pourcentage",-1)),xt=["value"],Pt={class:"input-group"},jt=f(()=>e("label",{for:"justification"},"Commentaire ou justification",-1)),St=f(()=>e("h5",null,"Bon travail ! Passez une agréable soirée sous la protection de Dieu",-1)),It=f(()=>e("br",null,null,-1)),Mt={class:"popup",ref:"popup"},Ot=f(()=>e("img",{class:"check",src:oe},null,-1)),Gt=f(()=>e("h2",null,"Rapport soumis avec succès !",-1));function Rt(t,s,n,l,a,i){return h(),p("div",_t,[e("div",ft,[e("div",vt,[gt,mt,e("div",yt,[e("p",null,r(a.dailyGoal),1)]),bt,e("div",kt,[$t,$(e("input",{type:"radio",id:"oui",value:"oui","onUpdate:modelValue":s[0]||(s[0]=o=>a.choix=o),class:v({error:a.errors.choix}),ref:"choixField"},null,2),[[G,a.choix]])]),e("div",wt,[Ct,$(e("input",{type:"radio",id:"non",value:"non","onUpdate:modelValue":s[1]||(s[1]=o=>a.choix=o),class:v({error:a.errors.choix}),ref:"choixField"},null,2),[[G,a.choix]])]),e("div",null,[Dt,$(e("select",{id:"pourcentage","onUpdate:modelValue":s[2]||(s[2]=o=>a.pourcentage=o),class:v({error:a.errors.pourcentage}),ref:"pourcentageField"},[Tt,(h(),p(T,null,S(11,o=>e("option",{key:o,value:o*10},r(o*10)+"%",9,xt)),64))],2),[[ee,a.pourcentage]])]),e("div",Pt,[jt,$(e("textarea",{id:"justification","onUpdate:modelValue":s[3]||(s[3]=o=>a.justification=o),rows:"4",class:v({error:a.errors.justification}),ref:"justificationField"},null,2),[[x,a.justification]])]),St,It,e("button",{onClick:s[4]||(s[4]=(...o)=>i.submitForm&&i.submitForm(...o))},"Soumettre")]),e("div",Mt,[Ot,Gt,e("button",{onClick:s[5]||(s[5]=(...o)=>i.closePopup&&i.closePopup(...o)),type:"button"},"OK")],512)])])}const At=y(pt,[["render",Rt],["__scopeId","data-v-df56e2de"]]),Ft={data(){return{percentageOfDay:0,userData:[]}},mounted(){this.fetchUserDataFromBackend()},methods:{async fetchUserDataFromBackend(){try{const s={"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},n=await g.get(`${m}/admin/percent`,{headers:s});this.userData=n.data,console.log("Data",n.data),this.calculatePercentageOfDay(),this.populateCharts()}catch(t){console.error("Error fetching user data from backend:",t)}},calculatePercentageOfDay(){const t=this.userData.reduce((s,n)=>s+parseFloat(n.pourcentage),0);console.log("sum",t),this.percentageOfDay=this.userData.length>0?Math.round(t/this.userData.length):0},populateCharts(){const t=this.userData.map(o=>o.name),s=this.userData.map(o=>o.percentage),n=["Day 1","Day 2","Day 3","Day 4","Day 5"],l=this.userData.map(o=>o.variations),a=this.$refs.barChartCanvas.getContext("2d");new Chart(a,{type:"bar",data:{labels:t,datasets:[{label:"Percentage",data:s,backgroundColor:"rgba(75, 192, 192, 0.2)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:1}]},options:{scales:{y:{beginAtZero:!0}}}});const i=this.$refs.lineChartCanvas.getContext("2d");new Chart(i,{type:"line",data:{labels:n,datasets:this.userData.map((o,u)=>({label:o.name,data:l[u],borderColor:"#"+(Math.random()*16777215<<0),fill:!1}))},options:{scales:{y:{beginAtZero:!0}}}})}}},P=t=>(w("data-v-ff6bb950"),t=t(),C(),t),Lt={class:"stud-dash"},Nt={class:"welcome"},Ut={class:"right"},Bt={class:"up-welcome"},Et=P(()=>e("p",{class:"under-welcome"}," N'oubliez pas de générer le rapport à la fin de la journée. Votre rapport reflète le travail accompli et ne peut être rempli qu'une fois par jour. ",-1)),Vt=P(()=>e("div",{class:"left"},[e("img",{class:"welcome-img",src:R,alt:"dashboard"})],-1)),zt={class:"statistics-component"},Wt=P(()=>e("h2",null,"Statistiques du jour",-1)),qt={class:"percentage-of-the-day"},Qt={class:"chart"},Ht=P(()=>e("h3",null,"Diagramme à barres",-1)),Kt={ref:"barChartCanvas"},Zt={class:"chart"},Jt=P(()=>e("h3",null,"Diagramme en courbes",-1)),Yt={ref:"lineChartCanvas"};function Xt(t,s,n,l,a,i){return h(),p(T,null,[e("div",Lt,[e("div",Nt,[e("div",Ut,[e("p",Bt,[_(" Bienvenue "),e("span",null,r(t.firstName),1)]),Et]),Vt])]),e("div",zt,[Wt,e("div",qt,[e("p",null,"Percentage du jour: "+r(a.percentageOfDay)+"%",1)]),e("div",Qt,[Ht,e("canvas",Kt,null,512)]),e("div",Zt,[Jt,e("canvas",Yt,null,512)])])],64)}const es=y(Ft,[["render",Xt],["__scopeId","data-v-ff6bb950"]]),ts={data(){return{}},mounted(){this.fetchReportFromBackend()},methods:{fetchReportFromBackend(){const s={"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`};g.get(`${m}/user/report`,{headers:s}).then(n=>{this.users=n.data}).catch(n=>{console.error("Error fetching report data from backend:",n)})}}},ss=t=>(w("data-v-b4931cd8"),t=t(),C(),t),os={class:"profile-info"},as=["src"],is={class:"report-time"},ns={class:"report-info"},rs=ss(()=>e("h3",null,"Rapport de l'utilisateur",-1));function ls(t,s,n,l,a,i){return h(!0),p(T,null,S(t.users,o=>(h(),p("div",{class:"report-component",key:o._id},[e("div",os,[e("img",{src:o.profilePhotoURL?o.profilePhotoURL:"../assets/icons/profile-icon.svg",alt:"Profile"},null,8,as),e("span",null,r(o.firstName),1)]),e("div",is,r(o.createdAt),1),e("div",ns,[rs,e("div",null,"Role:"+r(o.role),1),e("p",null,"Percentage: "+r(o.pourcentage)+"%",1),e("p",null,"Decision: "+r(o.choix),1),e("p",null,"commentaire:"+r(o.justification),1)])]))),128)}const cs=y(ts,[["render",ls],["__scopeId","data-v-b4931cd8"]]),ds={data(){return{createdAt:"",dailyGoal:"",choix:"",justification:"",role:"",date:"",arrivalTime:"",pourcentage:""}},mounted(){this.fetchReportFromBackend()},methods:{fetchReportFromBackend(){const s={"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`};g.get(`${m}/user/getobject`,{headers:s}).then(n=>{const{outObjective:l,enterObjective:a}=n.data;this.role=l.role,this.createdAt=l.createdAt,this.dailyGoal=a.dailyGoal,this.choix=l.choix,this.justification=l.justification,this.date=a.date,this.arrivalTime=a.arrivalTime,this.pourcentage=l.pourcentage}).catch(n=>{console.error("Error fetching report data from backend:",n)})}}},M=t=>(w("data-v-aa1fa110"),t=t(),C(),t),us={class:"report-component"},hs={class:"profile-info"},ps={class:"report-time"},_s={class:"report-info"},fs={class:"objective"},vs=M(()=>e("h3",null,"Objectif",-1)),gs=M(()=>e("br",null,null,-1)),ms={class:"repport"},ys=M(()=>e("h3",null,"Rapport",-1));function bs(t,s,n,l,a,i){return h(),p("div",us,[e("div",hs,[e("div",null,"Role: "+r(a.role),1)]),e("div",ps,r(a.createdAt),1),e("div",_s,[e("div",fs,[vs,e("p",null,"Time: "+r(a.arrivalTime),1),e("p",null,"Date: "+r(a.date),1),e("p",null,"Commentaire: "+r(a.dailyGoal),1)]),gs,e("div",ms,[ys,e("p",null,"Percentage: "+r(a.pourcentage)+"%",1),e("p",null,"Decision: "+r(a.choix),1),e("p",null,"Commentaire: "+r(a.justification),1)])])])}const ks=y(ds,[["render",bs],["__scopeId","data-v-aa1fa110"]]),$s={data(){return{hoursWorkedToday:8.5,averageProductivity:75}},mounted(){const t={labels:["Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],datasets:[{label:"Nombre d'heures travaillées par jour",backgroundColor:"rgba(75, 192, 192, 0.2)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:1,data:[8,7.5,8.5,7,9,6.5]}]},s={scales:{yAxes:[{ticks:{beginAtZero:!0}}]}};new Chart(this.$refs.barChart,{type:"bar",data:t,options:s})}},O=t=>(w("data-v-19189fce"),t=t(),C(),t),ws={class:"user-statistics"},Cs=O(()=>e("h2",null,"Statistiques de travail de l'utilisateur",-1)),Ds={class:"statistics-item"},Ts=O(()=>e("h3",null,"Nombre d'heures travaillées aujourd'hui",-1)),xs={class:"statistics-item"},Ps=O(()=>e("h3",null,"Productivité moyenne",-1)),js={class:"chart-container"},Ss={ref:"barChart"};function Is(t,s,n,l,a,i){return h(),p("div",null,[e("div",ws,[Cs,e("div",Ds,[Ts,e("p",null,r(a.hoursWorkedToday)+" heures",1)]),e("div",xs,[Ps,e("p",null,r(a.averageProductivity)+"%",1)])]),e("div",js,[e("canvas",Ss,null,512)])])}const Ms=y($s,[["render",Is],["__scopeId","data-v-19189fce"]]),Os={components:{userDashLayout:N,UserDashSidebarComponent:Ve,UserDashNavbarComponent:je,analytics:es,inscription:U,suivi:ht,rapport:At,setting:B,search:E,userInfo:V,gererCount:z,aide:W,changeCount:q,logout:Q,Parametre:H,userReport:cs,review:ks,statistic:Ms,listOfchildren:K,ActiviteHebdomadaire:Z,Message:J,Absent:Y,childPicture:ae},data(){return{CurrentView:""}},watch:{$route(t){this.CurrentView=t.params.id}}};function Gs(t,s,n,l,a,i){const o=j("UserDashNavbarComponent"),u=j("userDashLayout");return h(),p("div",null,[c(u,null,{topbar:d(()=>[c(o)]),dashboard:d(()=>[(h(),te(se(a.CurrentView)))]),_:1})])}const Vs=y(Os,[["render",Gs]]);export{Vs as default};
