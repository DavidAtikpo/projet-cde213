import{a as c,A as i}from"./config-DsceXT9y.js";import{_ as d,o as p,c as u,a as n}from"./index-CiiqZGSQ.js";const m={data(){return{takeFile:null}},methods:{pickImageChange(t){this.takeFile=t.target.files[0]},async uploadImage(){if(!this.takeFile){console.error("Aucun fichier sélectionné.");return}const t=this.$route.params.id,e=new FormData;e.append("profilePicture",this.takeFile);const l={"Content-Type":"multipart/form-data",Authorization:`Bearer ${localStorage.getItem("token")}`};try{console.log("formData",e);const a=await c.post(`${i}/childProfile/uploadChild/${t}`,e,{headers:l});localStorage.setItem("profilePhotoURL",a.data.path),console.log("Image téléchargée avec succès.",a.data)}catch(a){console.error("Erreur lors du téléchargement de l'image :",a)}}}};function g(t,e,s,l,a,o){return p(),u("div",null,[n("input",{type:"file",onChange:e[0]||(e[0]=(...r)=>o.pickImageChange&&o.pickImageChange(...r))},null,32),n("button",{onClick:e[1]||(e[1]=(...r)=>o.uploadImage&&o.uploadImage(...r))},"Télécharger")])}const k=d(m,[["render",g]]);export{k as default};
