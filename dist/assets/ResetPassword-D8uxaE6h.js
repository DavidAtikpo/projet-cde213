import{a as u,A as f}from"./config-GiQhZN26.js";import{_ as h,o as a,c as d,a as e,w as _,i as c,v as p,t as l,e as w,p as m,b as P}from"./index-D94B5czZ.js";const g={data(){return{loading:!1,password:"",confirmPassword:"",passwordError:"",successMessage:""}},methods:{async resetPassword(){if(this.password!==this.confirmPassword){this.passwordError="Passwords do not match";return}this.loading=!0,this.passwordError="",this.successMessage="";try{const s=await u.post(`${f}/user/reset-password/${this.$route.params.token}`,{password:this.password});this.successMessage="Password has been reset successfully.",console.log(s.data),this.password="",this.confirmPassword=""}catch(s){s.response&&s.response.data?this.passwordError=s.response.data.error||"Something went wrong. Please try again.":this.passwordError="Token is invalid or has expired.",console.log(s)}finally{this.loading=!1}}}},i=s=>(m("data-v-8df2581b"),s=s(),P(),s),y={class:"reset-password"},b={class:"reset-content"},v=i(()=>e("h2",null,"Reset Password",-1)),E={class:"form-group"},k=i(()=>e("label",{for:"password"},"New Password",-1)),M={class:"form-group"},S=i(()=>e("label",{for:"confirmPassword"},"Confirm Password",-1)),x={key:0,class:"error"},I=["disabled"],B={key:0,class:"fas fa-circle-notch fa-spin"},R={key:1},V={key:2,class:"success"};function A(s,r,C,N,o,n){return a(),d("div",y,[e("div",b,[v,e("form",{onSubmit:r[2]||(r[2]=_((...t)=>n.resetPassword&&n.resetPassword(...t),["prevent"]))},[e("div",E,[k,c(e("input",{type:"password",id:"password","onUpdate:modelValue":r[0]||(r[0]=t=>o.password=t),placeholder:"Enter your new password",required:"",class:"input-field"},null,512),[[p,o.password]])]),e("div",M,[S,c(e("input",{type:"password",id:"confirmPassword","onUpdate:modelValue":r[1]||(r[1]=t=>o.confirmPassword=t),placeholder:"Confirm your new password",required:"",class:"input-field"},null,512),[[p,o.confirmPassword]]),o.passwordError?(a(),d("div",x,l(o.passwordError),1)):w("",!0)]),e("button",{class:"submit-button",type:"submit",disabled:o.loading},[o.loading?(a(),d("i",B)):(a(),d("span",R,"Reset Password")),o.successMessage?(a(),d("div",V,l(o.successMessage),1)):w("",!0)],8,I)],32)])])}const D=h(g,[["render",A],["__scopeId","data-v-8df2581b"]]);export{D as default};
