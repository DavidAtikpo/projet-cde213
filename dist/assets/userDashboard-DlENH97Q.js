import{n as U,_ as E,i as V,a as B,b as z,c as q,u as W,d as K,s as Q,e as H,f as J,g as Y,h as Z,j as X,L as ee,k as te,l as se,m as oe,o as ie}from"./absentComponent-BguSYq5g.js";import{m as M,_ as b,r as D,o as c,c as d,a as e,n as _,d as h,g as p,k as f,t as r,i as v,v as I,F as T,f as j,e as m,p as w,b as $,l as R,q as ae,s as ne,u as re,x as le}from"./index-C4JoDdy0.js";import{a as y,A as k}from"./config-DsceXT9y.js";import{_ as F}from"./logo-BBSAZehn.js";import{T as L}from"./TypewriterText-YTkYoHCQ.js";import{_ as ce}from"./check-ov41iK4c.js";import de from"./uploadChildPictureComponent-Bq_W48ft.js";const ue={mixins:[U],data(){return{isMenuOpen:!1,searchQuery:"",searchResults:[],isNotificationDropdownOpen:!1,isProfileDropdownOpen:!1,profilePhotoURL:""}},computed:{...M(["theme","language"]),translatedTitles(){return{en:{dashboard:"Dashboard",goal:"Goal",report:"Report",weeklyGoal:"Weekly Goal",registration:"Registration",week:"Week",present:"Present",absent:"Absent",board:"Board",users:"Users",activities:"Activities",statistics:"Statistics",messages:"Messages",settings:"Settings",editPhoto:"Edit Photo",manageAccount:"Manage Account",setting:"Settings",logout:"Logout"},fr:{dashboard:"Accueil",goal:"Objectif",report:"Rapport",weeklyGoal:"Objectifs Heb",registration:"Inscription",week:"Semaine",present:"Presents",absent:"Absents",board:"Tableau",users:"Utilisateurs",activities:"Activites",statistics:"Statistique",messages:"Message",settings:"Paramètre",editPhoto:"Modifier Photo",manageAccount:"Gestion de compte",setting:"Parametre",logout:"Deconnexion"}}}},methods:{toggleMenu(){this.isMenuOpen=!this.isMenuOpen},toggleNotificationDropdown(){this.isNotificationDropdownOpen=!this.isNotificationDropdownOpen},toggleProfileDropdown(){this.isProfileDropdownOpen=!this.isProfileDropdownOpen},fetchProfilePicture(){const s={"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`};y.get(`${k}/admin/getprofil`,{headers:s}).then(l=>{this.profilePhotoURL=l.data.profilePhotoUrl,console.log("profilePicture",this.profilePhotoURL)}).catch(l=>{console.error("Error fetching profile picture:",l)})},search(){this.searchResults=[],this.searchQuery.length!==0&&y.get(`${k}/search?q=`+this.searchQuery).then(t=>{this.searchResults=t.data}).catch(t=>{console.error("Error fetching search results:",t)})},displayResult(t){console.log("Selected result info:",t)},async logout(){try{await y.post(`${k}/user/logout`,{},{withCredentials:!0}),localStorage.removeItem("authToken"),sessionStorage.removeItem("authToken"),this.$router.push("/login")}catch(t){console.error("Error during logout:",t)}},confirmLogout(){confirm("Are you sure you want to log out?")&&this.logout()},handleClickOutside(t){const s=this.$refs.notificationWrapper,l=this.$refs.profileIcon,u=s&&!s.contains(t.target),o=l&&!l.contains(t.target);u&&this.isNotificationDropdownOpen&&(this.isNotificationDropdownOpen=!1),o&&this.isProfileDropdownOpen&&(this.isProfileDropdownOpen=!1)},getTranslatedTitle(t){return this.translatedTitles[this.language][t]},shouldReceiveNotification(t){return t.role=="Coordinateur"}},mounted(){this.fetchProfilePicture(),document.addEventListener("click",this.handleClickOutside)},beforeMount(){document.removeEventListener("click",this.handleClickOutside)}},N=t=>(w("data-v-83c2cd6f"),t=t(),$(),t),he={class:"navigation"},pe={class:"search"},_e={key:0,class:"dropdown"},fe=["onClick"],ge={key:1,class:"dropdown"},me={class:"icons"},ve=N(()=>e("img",{src:E,alt:"Notification",class:"notification-icon"},null,-1)),ye={key:0,class:"dropdown"},ke={key:0},be=["src"],we={key:1,class:"dropdown"},$e=N(()=>e("div",{class:"hamburger"},null,-1)),Te=[$e],Ce={class:"content"},xe={class:"side-buttons"},Ie={class:"nav"},je={class:"nav"},De={class:"nav"},Pe={class:"nav"},Se={class:"nav"},Me={class:"nav"},Oe={class:"nav"};function Ae(t,s,l,u,o,a){const i=D("router-link");return c(),d(T,null,[e("nav",he,[e("button",{class:"menu-btn",onClick:s[0]||(s[0]=(...n)=>a.toggleMenu&&a.toggleMenu(...n))},"More"),e("ul",{class:_({"show-menu":o.isMenuOpen})},[e("li",null,[h(i,{to:"/user/analytics",class:"nav-link","active-class":"active"},{default:p(()=>[f(r(a.getTranslatedTitle("dashboard")),1)]),_:1})]),e("li",null,[h(i,{to:"/user/suivi",class:"nav-link","active-class":"active"},{default:p(()=>[f(r(a.getTranslatedTitle("goal")),1)]),_:1})]),e("li",null,[h(i,{to:"/user/rapport",class:"nav-link","active-class":"active"},{default:p(()=>[f(r(a.getTranslatedTitle("report")),1)]),_:1})]),e("li",null,[h(i,{to:"/user/ActiviteHebdomadaire",class:"nav-link","active-class":"active"},{default:p(()=>[f(r(a.getTranslatedTitle("weeklyGoal")),1)]),_:1})]),e("li",null,[h(i,{to:"/user/inscription",class:"nav-link","active-class":"active"},{default:p(()=>[f(r(a.getTranslatedTitle("registration")),1)]),_:1})]),e("li",null,[h(i,{to:"/user/weekGoal",class:"nav-link","active-class":"active"},{default:p(()=>[f(r(a.getTranslatedTitle("week")),1)]),_:1})]),e("li",null,[h(i,{to:"/user/listOfchildren",class:"nav-link","active-class":"active"},{default:p(()=>[f(r(a.getTranslatedTitle("present")),1)]),_:1})]),e("li",null,[h(i,{to:"/user/Absent",class:"nav-link","active-class":"active"},{default:p(()=>[f(r(a.getTranslatedTitle("absent")),1)]),_:1})])],2),e("div",pe,[v(e("input",{type:"text","onUpdate:modelValue":s[1]||(s[1]=n=>o.searchQuery=n),onInput:s[2]||(s[2]=(...n)=>a.search&&a.search(...n)),placeholder:"Search..."},null,544),[[I,o.searchQuery]]),o.searchResults.length>0?(c(),d("ul",_e,[(c(!0),d(T,null,j(o.searchResults,(n,S)=>(c(),d("li",{key:S,onClick:fo=>a.displayResult(n)},r(n),9,fe))),128))])):m("",!0),o.searchQuery.length>0&&o.searchResults.length===0?(c(),d("p",ge,"No results found.")):m("",!0)]),e("div",me,[e("div",{class:"notification-wrapper",onClick:s[3]||(s[3]=(...n)=>a.toggleNotificationDropdown&&a.toggleNotificationDropdown(...n))},[ve,e("span",{class:_({"notification-count":!0,"few-notifications":t.notifications.length<=2})},r(t.notifications.length),3)]),o.isNotificationDropdownOpen?(c(),d("div",ye,[e("ul",null,[t.notifications.length===0?(c(),d("li",ke,"No notifications")):m("",!0),(c(!0),d(T,null,j(t.notifications,(n,S)=>(c(),d("li",{key:S},r(n.user)+","+r(n.entry),1))),128))])])):m("",!0),e("img",{src:o.profilePhotoURL,onClick:s[4]||(s[4]=(...n)=>a.toggleProfileDropdown&&a.toggleProfileDropdown(...n)),alt:"Profile Icon",class:"profile-icon"},null,8,be),o.isProfileDropdownOpen?(c(),d("div",we,[e("ul",null,[e("li",null,[h(i,{to:"/user/userInfo"},{default:p(()=>[f(r(a.getTranslatedTitle("editPhoto")),1)]),_:1})]),e("li",null,[h(i,{to:"/user/gererCount"},{default:p(()=>[f(r(a.getTranslatedTitle("manageAccount")),1)]),_:1})]),e("li",null,[h(i,{to:"/user/Parametre"},{default:p(()=>[f(r(a.getTranslatedTitle("setting")),1)]),_:1})])]),e("div",{onClick:s[5]||(s[5]=(...n)=>a.confirmLogout&&a.confirmLogout(...n))},r(a.getTranslatedTitle("logout")),1)])):m("",!0)])]),e("div",null,[e("div",{class:"menu-toggle",onClick:s[6]||(s[6]=(...n)=>a.toggleMenu&&a.toggleMenu(...n))},Te),e("div",{class:_(["side-bar",{"hide-menu":t.isMobile&&!t.menuVisible}])},[e("div",Ce,[e("div",xe,[h(i,{to:"/user/userActivity","active-class":"active","exact-active-class":"exact-active",class:"default-link"},{default:p(()=>[e("div",Ie,r(a.getTranslatedTitle("board")),1)]),_:1}),h(i,{to:"/user/Review","active-class":"active","exact-active-class":"exact-active",class:"default-link"},{default:p(()=>[e("div",je,r(a.getTranslatedTitle("users")),1)]),_:1}),h(i,{to:"/user/dailyObject","active-class":"active","exact-active-class":"exact-active",class:"default-link"},{default:p(()=>[e("div",De,r(a.getTranslatedTitle("activities")),1)]),_:1}),h(i,{to:"/user/report","active-class":"active","exact-active-class":"exact-active",class:"default-link"},{default:p(()=>[e("div",Pe,r(a.getTranslatedTitle("report")),1)]),_:1}),h(i,{to:"/user/statistic","active-class":"active","exact-active-class":"exact-active",class:"default-link"},{default:p(()=>[e("div",Se,r(a.getTranslatedTitle("statistics")),1)]),_:1}),h(i,{to:"/user/message","active-class":"active","exact-active-class":"exact-active",class:"default-link"},{default:p(()=>[e("div",Me,r(a.getTranslatedTitle("messages")),1)]),_:1}),h(i,{to:"/user/setting","active-class":"active","exact-active-class":"exact-active",class:"default-link"},{default:p(()=>[e("div",Oe,r(a.getTranslatedTitle("settings")),1)]),_:1})])])],2)])],64)}const Ge=b(ue,[["render",Ae],["__scopeId","data-v-83c2cd6f"]]),Re={data(){return{isMobile:!1}},mounted(){this.isMobile=window.innerWidth<768,window.addEventListener("resize",this.handleResize)},beforeMount(){window.addEventListener("resize",this.handleResize)},methods:{handleResize(){this.isMobile=window.innerWidth<768},toggleMenu(){this.isMobile=!this.isMobile}}},C=t=>(w("data-v-c2eba80d"),t=t(),$(),t),Fe={class:"side-bar"},Le=C(()=>e("div",{class:"hamburger"},null,-1)),Ne=[Le],Ue=C(()=>e("div",{class:"logo"},[e("img",{class:"logo-rr",src:F,alt:"CDE koinonia"})],-1)),Ee={class:"side-buttons"},Ve=C(()=>e("div",{class:"nav"}," Dashboard ",-1)),Be=C(()=>e("div",{class:"nav"}," Review ",-1)),ze=C(()=>e("div",{class:"nav"}," feedback ",-1)),qe=C(()=>e("div",{class:"nav"}," Message ",-1)),We=C(()=>e("div",{class:"nav"}," Statistique ",-1)),Ke=C(()=>e("div",{class:"nav"}," Paramettre ",-1));function Qe(t,s,l,u,o,a){const i=D("router-link");return c(),d("div",Fe,[e("div",{class:"menu-toggle",onClick:s[0]||(s[0]=(...n)=>a.toggleMenu&&a.toggleMenu(...n))},Ne),e("div",{class:_(["content",{"hide-menu":o.isMobile}])},[Ue,e("div",Ee,[h(i,{to:"/user/analytics","active-class":"active","exact-active-class":"exact-active",class:"default-link"},{default:p(()=>[Ve]),_:1}),h(i,{to:"/user/review","active-class":"active","exact-active-class":"exact-active",class:"default-link"},{default:p(()=>[Be]),_:1}),h(i,{to:"/user/feedback","active-class":"active","exact-active-class":"exact-active",class:"default-link"},{default:p(()=>[ze]),_:1}),h(i,{to:"/user/Message","active-class":"active","exact-active-class":"exact-active",class:"default-link"},{default:p(()=>[qe]),_:1}),h(i,{to:"/user/statistic","active-class":"active","exact-active-class":"exact-active",class:"default-link"},{default:p(()=>[We]),_:1}),h(i,{to:"/user/setting","active-class":"active","exact-active-class":"exact-active",class:"default-link"},{default:p(()=>[Ke]),_:1})])],2)])}const He=b(Re,[["render",Qe],["__scopeId","data-v-c2eba80d"]]),Je={components:{TypewriterText:L},data(){return{loading:!1,arrivalTime:"",date:"",dailyGoal:"",dailyGoals:"",errorFetchingDate:!1,showPopup:!1,weeklyGoals:{},errorMessage:""}},computed:{...M(["theme"]),...M(["theme","language"]),translatedTitle(){return{en:"Fill in the daily goal",fr:"Remplir l'objectif de la journée"}[this.language]}},mounted(){this.arrivalTime=this.getCurrentTime(),this.fetchDate()},methods:{getCurrentTime(){const t=new Date,s=String(t.getHours()).padStart(2,"0"),l=String(t.getMinutes()).padStart(2,"0");return`${s}:${l}`},fetchDate(){const t=new Date,s=t.getFullYear(),l=String(t.getMonth()+1).padStart(2,"0"),u=String(t.getDate()).padStart(2,"0");this.date=`${s}-${l}-${u}`;const a={"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`};y.get(`${k}/week/getweekly`,{headers:a}).then(i=>{this.weeklyGoals=i.data,this.setDailyGoal()}).catch(i=>{console.error("Error fetching weekly goals:",i),this.errorFetchingDate=!0})},setDailyGoal(){const t=new Date().getDay(),s=this.weeklyGoals.data,u=Object.keys(s).filter(o=>["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].includes(o.toLowerCase()))[t];u?this.dailyGoals=s[u]:console.log("Day key not found for current day of week:",t)},submitForm(){if(!this.dailyGoal){this.errorMessage="Le champ 'Objectif de la journée' est requis.",this.shakeInput();return}const s={"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},l={arrivalTime:this.arrivalTime,date:this.date,dailyGoal:this.dailyGoal};this.loading=!0,y.post(`${k}/user/entre`,l,{headers:s}).then(u=>{console.log("Form submitted successfully:",u.data),this.arrivalTime="",this.date="",this.dailyGoal="",this.showPopup=!0,this.errorMessage="",setTimeout(()=>{this.showPopup=!1,this.$router.push("/user/analytics")},500),localStorage.setItem("dailyGoal",l.dailyGoal)}).catch(u=>{console.error("Error submitting form:",u)}).finally(()=>{this.loading=!1})},shakeInput(){const t=this.$refs.dailyGoalInput;t.classList.add("shake"),setTimeout(()=>t.classList.remove("shake"),500)}}},x=t=>(w("data-v-84589e2f"),t=t(),$(),t),Ye={class:"container"},Ze={class:"content-wrapper"},Xe={class:"content"},et=x(()=>e("hr",null,null,-1)),tt={class:"goal"},st={class:"input-group"},ot=x(()=>e("label",{for:"arrivalTime"},"Temps d'arrivée au service:",-1)),it=x(()=>e("br",null,null,-1)),at={class:"input-group"},nt=x(()=>e("label",{for:"date"},"Date:",-1)),rt=x(()=>e("br",null,null,-1)),lt={class:"input-group"},ct=x(()=>e("label",{for:"dailyGoal"},"Objectif de la journée:",-1)),dt=x(()=>e("br",null,null,-1)),ut={key:0,class:"error-message"},ht={key:0,class:"fas fa-circle-notch fa-spin"},pt={key:1},_t={key:0},ft={key:0,class:"popup"},gt=x(()=>e("h2",null,"Formulaire soumis avec succès !",-1)),mt=[gt];function vt(t,s,l,u,o,a){const i=D("TypewriterText");return c(),d("div",{class:_([t.theme,"page"])},[e("div",Ye,[h(i,{class:"typewriter",text:"Avant de definir l'objectif de la journee veillesz verifier si l'objectif hebdomadaire a ete defini.Si non, cliquez sur l'onglet 'Objectifs Heb'et remplir l'objectif de la semaine. et cela se fera une seul fois dans la semaine"}),e("div",Ze,[e("div",Xe,[e("h2",null,r(a.translatedTitle),1),et,e("div",tt,[e("p",null,r(o.dailyGoals),1)]),e("div",st,[ot,it,v(e("input",{type:"text",id:"arrivalTime","onUpdate:modelValue":s[0]||(s[0]=n=>o.arrivalTime=n),readonly:""},null,512),[[I,o.arrivalTime]])]),e("div",at,[nt,rt,v(e("input",{type:"date",id:"date","onUpdate:modelValue":s[1]||(s[1]=n=>o.date=n),readonly:""},null,512),[[I,o.date]])]),e("div",lt,[ct,dt,v(e("textarea",{id:"dailyGoal","onUpdate:modelValue":s[2]||(s[2]=n=>o.dailyGoal=n),class:_({error:o.errorMessage}),rows:"4",ref:"dailyGoalInput"},`
          `,2),[[I,o.dailyGoal]]),o.errorMessage?(c(),d("p",ut,r(o.errorMessage),1)):m("",!0)]),e("button",{onClick:s[3]||(s[3]=(...n)=>a.submitForm&&a.submitForm(...n))},[o.loading?(c(),d("i",ht)):(c(),d("span",pt,"Submit"))]),o.errorFetchingDate?(c(),d("h5",_t,"Erreur lors du chargement de la date. Veuillez vérifier votre connexion Internet.")):m("",!0)]),o.showPopup?(c(),d("div",ft,mt)):m("",!0)])])],2)}const yt=b(Je,[["render",vt],["__scopeId","data-v-84589e2f"]]),kt={components:{TypewriterText:L},data(){return{loading:!1,justification:"",choix:"",pourcentage:"",dailyGoal:"",errors:{justification:!1,choix:!1,pourcentage:!1}}},computed:{...M(["theme"])},mounted(){this.dailyGoal=localStorage.getItem("dailyGoal")},methods:{openPopup(){this.$refs.popup.classList.add("open-popup")},closePopup(){this.$refs.popup.classList.remove("open-popup"),this.$router.push("/user/analytics")},submitForm(){if(this.errors.justification=!this.justification,this.errors.choix=!this.choix,this.errors.pourcentage=!this.pourcentage,this.errors.justification||this.errors.choix||this.errors.pourcentage){this.shakeInput();return}const t={justification:this.justification,choix:this.choix,pourcentage:this.pourcentage,dailyGoal:this.dailyGoal},l={"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`};this.loading=!0,y.post(`${k}/user/rapport`,t,{headers:l}).then(u=>{u.status===201&&(this.openPopup(),setTimeout(()=>{this.closePopup()},3e3))}).catch(u=>{console.error(u)}).finally(()=>{this.loading=!1})},shakeInput(){[this.$refs.justificationField,this.$refs.choixField,this.$refs.pourcentageField].forEach(s=>{s&&(Array.isArray(s)?s.forEach(l=>{l.classList.add("shake"),setTimeout(()=>l.classList.remove("shake"),500)}):(s.classList.add("shake"),setTimeout(()=>s.classList.remove("shake"),500)))})}}},g=t=>(w("data-v-1c3e7203"),t=t(),$(),t),bt={class:"container"},wt={class:"content-wrapper"},$t={class:"content"},Tt=g(()=>e("h2",null,"Rapport journalier",-1)),Ct=g(()=>e("br",null,null,-1)),xt={class:"goal"},It=g(()=>e("h4",null,"Est-ce que l'objectif quotidien a été réalisé ?",-1)),jt={class:"check"},Dt=g(()=>e("label",{for:"oui"},"Oui :",-1)),Pt={class:"check"},St=g(()=>e("label",{for:"non"},"Non:",-1)),Mt=g(()=>e("label",{for:"pourcentage"},"Pourcentage de travail effectué:",-1)),Ot=g(()=>e("option",{value:""},"Sélectionner le pourcentage",-1)),At=["value"],Gt={class:"input-group"},Rt=g(()=>e("label",{for:"justification"},"Commentaire ou justification",-1)),Ft=g(()=>e("h5",null,"Bon travail ! Passez une agréable soirée sous la protection de Dieu",-1)),Lt=g(()=>e("br",null,null,-1)),Nt={key:0,class:"fas fa-circle-notch fa-spin"},Ut={key:1},Et={class:"popup",ref:"popup"},Vt=g(()=>e("img",{class:"check",src:ce},null,-1)),Bt=g(()=>e("h2",null,"Rapport soumis avec succès !",-1));function zt(t,s,l,u,o,a){const i=D("TypewriterText");return c(),d("div",{class:_([t.theme,"page"])},[e("div",bt,[h(i,{class:"typewriter",text:"Remplissez l'objectif de la journée en suivant ces étapes..."}),e("div",wt,[e("div",$t,[Tt,Ct,e("div",xt,[e("p",null,r(o.dailyGoal),1)]),It,e("div",jt,[Dt,v(e("input",{type:"radio",id:"oui",value:"oui","onUpdate:modelValue":s[0]||(s[0]=n=>o.choix=n),class:_({error:o.errors.choix}),ref:"choixField"},null,2),[[R,o.choix]])]),e("div",Pt,[St,v(e("input",{type:"radio",id:"non",value:"non","onUpdate:modelValue":s[1]||(s[1]=n=>o.choix=n),class:_({error:o.errors.choix}),ref:"choixField"},null,2),[[R,o.choix]])]),e("div",null,[Mt,v(e("select",{id:"pourcentage","onUpdate:modelValue":s[2]||(s[2]=n=>o.pourcentage=n),class:_({error:o.errors.pourcentage}),ref:"pourcentageField"},[Ot,(c(),d(T,null,j(11,n=>e("option",{key:n,value:n*10},r(n*10)+"%",9,At)),64))],2),[[ae,o.pourcentage]])]),e("div",Gt,[Rt,v(e("textarea",{id:"justification","onUpdate:modelValue":s[3]||(s[3]=n=>o.justification=n),rows:"4",class:_({error:o.errors.justification}),ref:"justificationField"},null,2),[[I,o.justification]])]),Ft,Lt,e("button",{onClick:s[4]||(s[4]=(...n)=>a.submitForm&&a.submitForm(...n))},[o.loading?(c(),d("i",Nt)):(c(),d("span",Ut,"Submit"))])]),e("div",Et,[Vt,Bt,e("button",{onClick:s[5]||(s[5]=(...n)=>a.closePopup&&a.closePopup(...n)),type:"button"},"OK")],512)])])],2)}const qt=b(kt,[["render",zt],["__scopeId","data-v-1c3e7203"]]),Wt={data(){return{firstName:"",chatOpen:!1,messages:[],newMessage:"",articles:[{title:"L'éducation des enfants en Afrique - UNICEF",url:"https://www.unicef.org/education"},{title:"Santé mondiale et prévention des maladies - OMS",url:"https://www.who.int"},{title:"L'impact de Compassion International sur les communautés",url:"https://www.compassion.com"},{title:"Accès à la lecture en milieu rural - Bibliothèques Sans Frontières",url:"https://www.bibliosansfrontieres.org"},{title:"Actualités sur l'éducation au Togo",url:"https://www.republicoftogo.com/Toutes-les-rubriques"},{title:"Actualités globales sur l'éducation - BBC News",url:"https://www.bbc.com/news/education"}],images:[V,B,z,q],currentIndex:0}},computed:{...M(["theme"]),currentImage(){return this.images[this.currentIndex]}},mounted(){this.firstName=localStorage.getItem("user"),document.querySelector(".page").classList.add("animate__animated","animate__fadeIn")},methods:{toggleChat(){this.chatOpen=!this.chatOpen},sendMessage(){this.newMessage&&(this.messages.push({id:Date.now(),text:this.newMessage}),this.newMessage="")},nextImage(){this.currentIndex=(this.currentIndex+1)%this.images.length},prevImage(){this.currentIndex=(this.currentIndex-1+this.images.length)%this.images.length}}},P=t=>(w("data-v-0012a13d"),t=t(),$(),t),Kt={class:"stud-dash"},Qt={class:"welcome"},Ht={class:"right"},Jt={class:"up-welcome animate__animated animate__fadeInDown"},Yt=P(()=>e("p",{class:"under-welcome animate__animated animate__fadeInUp"}," N'oubliez pas de générer le rapport à la fin de la journée. Votre rapport reflète le travail accompli et ne peut être rempli qu'une fois par jour. ",-1)),Zt=P(()=>e("div",{class:"left"},[e("img",{class:"welcome-img",src:F,alt:"dashboard"})],-1)),Xt={class:"unicef-section"},es=P(()=>e("h3",null,"Suivre les Publications de l'UNICEF",-1)),ts={class:"carousel"},ss=["src"],os={class:"carousel-buttons"},is=P(()=>e("p",null,[e("a",{href:"https://www.unicef.org",target:"_blank"},"Visitez le site de l'UNICEF")],-1)),as={class:"news-section"},ns=P(()=>e("h3",null,"Actualités et Articles",-1)),rs=["href"],ls={class:"chat-bar"},cs=P(()=>e("h4",null,"Chat Support",-1)),ds=[cs],us={key:0,class:"chat-content"},hs={class:"chat-messages"};function ps(t,s,l,u,o,a){return c(),d("div",{class:_([t.theme,"page"])},[e("div",Kt,[e("div",Qt,[e("div",Ht,[e("p",Jt,[f(" Bienvenue "),e("span",null,r(o.firstName),1)]),Yt]),Zt]),e("div",Xt,[es,e("div",ts,[e("img",{src:a.currentImage,alt:"Publication"},null,8,ss),e("div",os,[e("button",{onClick:s[0]||(s[0]=(...i)=>a.prevImage&&a.prevImage(...i))},"←"),e("button",{onClick:s[1]||(s[1]=(...i)=>a.nextImage&&a.nextImage(...i))},"→")])]),is]),e("div",as,[ns,e("ul",null,[(c(!0),d(T,null,j(o.articles,(i,n)=>(c(),d("li",{key:n},[e("a",{href:i.url,target:"_blank"},r(i.title),9,rs)]))),128))])]),e("div",ls,[e("div",{class:"chat-header",onClick:s[2]||(s[2]=(...i)=>a.toggleChat&&a.toggleChat(...i))},ds),o.chatOpen?(c(),d("div",us,[e("div",hs,[(c(!0),d(T,null,j(o.messages,i=>(c(),d("p",{key:i.id},r(i.text),1))),128))]),v(e("input",{type:"text","onUpdate:modelValue":s[3]||(s[3]=i=>o.newMessage=i),placeholder:"Type a message...",onKeyup:s[4]||(s[4]=ne((...i)=>a.sendMessage&&a.sendMessage(...i),["enter"]))},null,544),[[I,o.newMessage]])])):m("",!0)])])],2)}const _s=b(Wt,[["render",ps],["__scopeId","data-v-0012a13d"]]),fs={data(){return{}},mounted(){this.fetchReportFromBackend()},methods:{fetchReportFromBackend(){const s={"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`};y.get(`${k}/user/report`,{headers:s}).then(l=>{this.users=l.data}).catch(l=>{console.error("Error fetching report data from backend:",l)})}}},gs=t=>(w("data-v-b4931cd8"),t=t(),$(),t),ms={class:"profile-info"},vs=["src"],ys={class:"report-time"},ks={class:"report-info"},bs=gs(()=>e("h3",null,"Rapport de l'utilisateur",-1));function ws(t,s,l,u,o,a){return c(!0),d(T,null,j(t.users,i=>(c(),d("div",{class:"report-component",key:i._id},[e("div",ms,[e("img",{src:i.profilePhotoURL?i.profilePhotoURL:"../assets/icons/profile-icon.svg",alt:"Profile"},null,8,vs),e("span",null,r(i.firstName),1)]),e("div",ys,r(i.createdAt),1),e("div",ks,[bs,e("div",null,"Role:"+r(i.role),1),e("p",null,"Percentage: "+r(i.pourcentage)+"%",1),e("p",null,"Decision: "+r(i.choix),1),e("p",null,"commentaire:"+r(i.justification),1)])]))),128)}const $s=b(fs,[["render",ws],["__scopeId","data-v-b4931cd8"]]),Ts={data(){return{createdAt:"",dailyGoal:"",choix:"",justification:"",role:"",date:"",arrivalTime:"",pourcentage:""}},mounted(){this.fetchReportFromBackend()},methods:{fetchReportFromBackend(){const s={"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`};y.get(`${k}/user/getobject`,{headers:s}).then(l=>{const{outObjective:u,enterObjective:o}=l.data;this.role=u.role,this.createdAt=u.createdAt,this.dailyGoal=o.dailyGoal,this.choix=u.choix,this.justification=u.justification,this.date=o.date,this.arrivalTime=o.arrivalTime,this.pourcentage=u.pourcentage}).catch(l=>{console.error("Error fetching report data from backend:",l)})}}},A=t=>(w("data-v-aa1fa110"),t=t(),$(),t),Cs={class:"report-component"},xs={class:"profile-info"},Is={class:"report-time"},js={class:"report-info"},Ds={class:"objective"},Ps=A(()=>e("h3",null,"Objectif",-1)),Ss=A(()=>e("br",null,null,-1)),Ms={class:"repport"},Os=A(()=>e("h3",null,"Rapport",-1));function As(t,s,l,u,o,a){return c(),d("div",Cs,[e("div",xs,[e("div",null,"Role: "+r(o.role),1)]),e("div",Is,r(o.createdAt),1),e("div",js,[e("div",Ds,[Ps,e("p",null,"Time: "+r(o.arrivalTime),1),e("p",null,"Date: "+r(o.date),1),e("p",null,"Commentaire: "+r(o.dailyGoal),1)]),Ss,e("div",Ms,[Os,e("p",null,"Percentage: "+r(o.pourcentage)+"%",1),e("p",null,"Decision: "+r(o.choix),1),e("p",null,"Commentaire: "+r(o.justification),1)])])])}const Gs=b(Ts,[["render",As],["__scopeId","data-v-aa1fa110"]]),Rs={data(){return{hoursWorkedToday:8.5,averageProductivity:75}},mounted(){const t={labels:["Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],datasets:[{label:"Nombre d'heures travaillées par jour",backgroundColor:"rgba(75, 192, 192, 0.2)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:1,data:[8,7.5,8.5,7,9,6.5]}]},s={scales:{yAxes:[{ticks:{beginAtZero:!0}}]}};new Chart(this.$refs.barChart,{type:"bar",data:t,options:s})}},G=t=>(w("data-v-19189fce"),t=t(),$(),t),Fs={class:"user-statistics"},Ls=G(()=>e("h2",null,"Statistiques de travail de l'utilisateur",-1)),Ns={class:"statistics-item"},Us=G(()=>e("h3",null,"Nombre d'heures travaillées aujourd'hui",-1)),Es={class:"statistics-item"},Vs=G(()=>e("h3",null,"Productivité moyenne",-1)),Bs={class:"chart-container"},zs={ref:"barChart"};function qs(t,s,l,u,o,a){return c(),d("div",null,[e("div",Fs,[Ls,e("div",Ns,[Us,e("p",null,r(o.hoursWorkedToday)+" heures",1)]),e("div",Es,[Vs,e("p",null,r(o.averageProductivity)+"%",1)])]),e("div",Bs,[e("canvas",zs,null,512)])])}const Ws=b(Rs,[["render",qs],["__scopeId","data-v-19189fce"]]),Ks={data(){return{loading:!1,days:[{label:"Objectif du Mardi",goal:""},{label:"Objectif du Mercredi",goal:""},{label:"Objectif du Jeudi",goal:""},{label:"Objectif du Vendredi",goal:""},{label:"Objectif du Samedi",goal:""}],showPopup:!1,errors:[!1,!1,!1,!1,!1],errorFetchingDate:!1,goalOfWeek:""}},mounted(){this.fetchData()},methods:{fetchData(){const s={Authorization:`Bearer ${localStorage.getItem("token")}`};y.get(`${k}/week/getgoal`,{headers:s}).then(l=>{this.goalOfWeek=l.data.data.weeklyGoal,console.log("Objectif de la semaine :",l.data)}).catch(l=>{console.error("Erreur lors du chargement de la date :",l),this.errorFetchingDate=!0})},submitForm(){let t=!1;if(this.errors=this.days.map(o=>!o.goal),this.errors.forEach(o=>{o&&(t=!0)}),t){this.shakeInput();return}const l={"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},u={tuesday:this.days[0].goal,wednesday:this.days[1].goal,thursday:this.days[2].goal,friday:this.days[3].goal,saturday:this.days[4].goal};this.loading=!0,y.post(`${k}/week/weeks`,u,{headers:l}).then(o=>{console.log("Formulaire soumis avec succès :",o.data),this.errors=[!1,!1,!1,!1,!1],this.showPopup=!0,setTimeout(()=>{this.showPopup=!1,this.$router.push("/admin/analytics")},3e3)}).catch(o=>{console.error("Erreur lors de la soumission du formulaire :",o),this.shakeInput()}).finally(()=>{this.loading=!1})},shakeInput(){this.errors.forEach((t,s)=>{if(t){const l=this.$refs[`textarea-${s}`][0];l.classList.add("shake"),setTimeout(()=>{l.classList.remove("shake")},500)}})}}},O=t=>(w("data-v-02c3fcc9"),t=t(),$(),t),Qs={class:"page1"},Hs={class:"container"},Js={class:"content"},Ys=O(()=>e("h2",null,"Remplir l'objectif de la Semaine",-1)),Zs=O(()=>e("hr",null,null,-1)),Xs=O(()=>e("br",null,null,-1)),eo={class:"goal"},to={class:"input-group"},so=["for"],oo=O(()=>e("br",null,null,-1)),io=["id","onUpdate:modelValue"],ao={key:0,class:"fas fa-circle-notch fa-spin"},no={key:1},ro={key:0,class:"popup"},lo=O(()=>e("h2",null,"Formulaire soumis avec succès !",-1)),co=[lo];function uo(t,s,l,u,o,a){return c(),d("div",Qs,[e("div",Hs,[e("div",Js,[Ys,Zs,Xs,e("div",eo,[e("p",null,r(o.goalOfWeek),1)]),(c(!0),d(T,null,j(o.days,(i,n)=>(c(),d("div",{key:n},[e("div",to,[e("label",{for:`dailyGoal-${n}`},r(i.label)+" :",9,so),oo,v(e("textarea",{id:`dailyGoal-${n}`,"onUpdate:modelValue":S=>i.goal=S,rows:"4",class:_({"error-border":o.errors[n]}),ref_for:!0,ref:"textarea-"+n},null,10,io),[[I,i.goal]])])]))),128)),e("button",{onClick:s[0]||(s[0]=(...i)=>a.submitForm&&a.submitForm(...i))},[o.loading?(c(),d("i",ao)):(c(),d("span",no,"Submit"))])]),o.showPopup?(c(),d("div",ro,co)):m("",!0)])])}const ho=b(Ks,[["render",uo],["__scopeId","data-v-02c3fcc9"]]),po={components:{userDashLayout:W,UserDashSidebarComponent:He,UserDashNavbarComponent:Ge,analytics:_s,inscription:K,suivi:yt,rapport:qt,setting:Q,search:H,userInfo:J,gererCount:Y,aide:Z,changeCount:X,logout:ee,Parametre:te,userReport:$s,review:Gs,statistic:Ws,listOfchildren:se,ActiviteHebdomadaire:ho,Message:oe,Absent:ie,childPicture:de},data(){return{CurrentView:""}},watch:{$route(t){this.CurrentView=t.params.id}}};function _o(t,s,l,u,o,a){const i=D("UserDashNavbarComponent"),n=D("userDashLayout");return c(),d("div",null,[h(n,null,{topbar:p(()=>[h(i)]),dashboard:p(()=>[(c(),re(le(o.CurrentView)))]),_:1})])}const $o=b(po,[["render",_o]]);export{$o as default};
